# CouchDB-Migration - Plan 1
1. DONE: Migrate users from sl-users to auth-users in original database
2. Update new auth server to serve new couch-auth at / not /new/
3. Use credentials of old database in new auth-server
4. change DNS for login.couchdb.asterics-foundation.org pointing to new auth server, still using old couchDB server
5. DOWNTIME: get new certificate for login.couchdb.asterics-foundation.org for new auth server
6. replicate couchDB data from old server to new couchDB server
7. change admin password for new couchDB to old couchDB admin password
8. change DNS for db.couchdb.asterics-foundation.org pointing to new couchdb server
9. DOWNTIME: get new certificate for db.couchdb.asterics-foundation.org for new couchDB server
10. shut down old server

# CouchDB-Migration - Plan 2
1. DONE: Migrate users from sl-users to auth-users in original database
2. Update new auth server to serve new couch-auth at / not /new/
3. Use credentials of old database in new auth-server
4. Release new version of AsTeRICS Grid using login1.asterics-foundation.org for authentication
5. replicate couchDB data from old server to new couchDB server
7. change config in auth-server to use db1.asterics-foundation.org instead of db.asterics-foundation.org
8. Monitor access that is still coming to old server (not updated version of AsTeRICS Grid)
9. If no access to old server anymore - shut down.

# Open issues
* validate-username missing in couch-auth -> direkt in start.js von couch-auth mit nano
* redirect after successful registration (login after registration fails - add timeout?!)

# Questions about Docker / Ansible

## restart: always fÃ¼r superlogin docker-container?! in ansible/roles/superLoginDockerCompose/templates/docker-compose:27

## ansible/roles/couchDBDockerCertbot/tasks/main.yml:53 - reload nginx config only if no certificate - how to update nginx config using ansible?

## ansible tasks "superloginCloneRepoDocker" und "superloginDockerCompose"
* relationship between "env" file, "Dockerfile" and "docker-compose" file
* how to update containers, if config changes? (e.g. password of couchDB, hostname, etc.)

## ansible/roles/superLoginDockerNginx/tasks/main.yml:39 docker compose up takes very long
* docker compose -f ./docker-compose.yml up --build --detach --> what is it doing exactly (I assume npm install?!)
* possibilities for speed up and logging?!

## run docker commands without sudo?!

